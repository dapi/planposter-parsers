
Парсер выводит данные на STDOUT в формате json массивом их хешей:

  {
   source: 'http://concert.ru/',            // ОБЯЗАТЕЛЬНО
   url: 'http://concert.ru/страница.html',  // ОБЯЗАТЕЛЬНО
   id: 'уникальный инедтификатор события',  // Есть есть
   image_url: 'Адрес картинки события',     // Очень желательно
   subject: 'Тема, название события',       // ОБЯЗАТЕЛЬНО
   category: "Тим события",                 // ОБЯЗАТЕЛЬНО
   place: 'Место где проходит',             // ОБЯЗАТЕЛЬНО
   address: 'Адрес где проходит',           // ОБЯЗАТЕЛЬНО
   city: 'Москва',                          // ОБЯЗАТЕЛЬНО
   date: дата,                              // ОБЯЗАТЕЛЬНО // Дата отпарсенная в формате  2011-02-24 (YYYY-MM-DD)
   time: время,                             // ОБЯЗАТЕЛЬНО // Например 12:00
   period: длительность в минутах,          // Очень жалательно
   details: "дополнительные детали",        // Очень жалательно. Простой текст
   dump: "дамп страницы или блока отуда выдрали информацию",  // В любом формате, только укажите его
   dump_type: "text/ruby/xml"
  }


Если событие встречается в более чем одной катеории, то или оно выводится для каждой категории отдельно,
либо категории передаютя массивом.


Список источников:
=================

https://spreadsheets.google.com/ccc?key=0ArR1ApxjK8jPdEpWbk9kN1dGNEQwdmhEa19icTAxZlE&hl=en#gid=0

+Общий сбор парсеров:+

./collector.rb


Сайт для форматирвание json (реальной валидации не делает) http://jsonviewer.stack.hu/


h1. Тесты и примеры:

Пример json-результата - https://github.com/dapi/planposter-parsers/raw/master/utils/example.json

Скрипт для тестирования импортирования результатов парсинга - https://github.com/dapi/planposter-parsers/raw/master/utils/test_json.rb

Запускать так: ./test_json.rb example.json